edition: 1.0.0
name: YunLeFun

# 密钥
access: "yunlefun"

# 全局变量
vars:
  region: "cn-hangzhou"

services:
  yunlefun: # 业务名称/模块名称
    component: fc # 组件名称
    actions:
      pre-deploy:
        - run: npx pnpm install
          path: ./code
        - run: npm run build
          path: ./code
        # for generate static
        # - run: npm run generate
        #   path: ./code
        # - plugin: website-fc
    props: # 组件的属性值
      region: ${vars.region}
      service:
        name: "yunlefun-service"
        description: "YunLeFun Service"
      function:
        name: "yunlefun-home"
        description: "YunLeFun Home with Nuxt3"
        codeUri: ./code
        runtime: nodejs14
        timeout: 60
        # default port is 3000
        caPort: 3000
        memorySize: 128
        customRuntimeConfig:
          command:
            - npm
            - run
            - start
      triggers:
        - name: httpTrigger
          type: http
          config:
            authType: anonymous
            methods:
              - GET
              # - POST
              # - PUT
              # - DELETE
      customDomains:
        - domainName: auto
          protocol: HTTP
          routeConfigs:
            - path: /*
